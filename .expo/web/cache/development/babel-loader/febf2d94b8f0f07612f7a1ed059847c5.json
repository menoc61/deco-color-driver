{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useState } from \"react\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { Auth, DataStore } from \"aws-amplify\";\nimport { Courier, TransportationModes } from \"../../models\";\nimport { useAuthContext } from \"../../contexts/AuthContext\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { MaterialIcons, FontAwesome5 } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Profile = function Profile() {\n  var _useAuthContext = useAuthContext(),\n      dbCourier = _useAuthContext.dbCourier,\n      sub = _useAuthContext.sub,\n      setDbCourier = _useAuthContext.setDbCourier;\n\n  var _useState = useState((dbCourier == null ? void 0 : dbCourier.name) || \"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(TransportationModes.DRIVING),\n      _useState4 = _slicedToArray(_useState3, 2),\n      transportationMode = _useState4[0],\n      setTransportationMode = _useState4[1];\n\n  var navigation = useNavigation();\n\n  var onSave = function onSave() {\n    return _regeneratorRuntime.async(function onSave$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!dbCourier) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(updateCourier());\n\n          case 3:\n            _context.next = 7;\n            break;\n\n          case 5:\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(createCourier());\n\n          case 7:\n            navigation.goBack();\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var updateCourier = function updateCourier() {\n    var courier;\n    return _regeneratorRuntime.async(function updateCourier$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(DataStore.save(Courier.copyOf(dbCourier, function (updated) {\n              updated.name = name;\n              updated.transportationMode = transportationMode;\n            })));\n\n          case 2:\n            courier = _context2.sent;\n            setDbCourier(courier);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var createCourier = function createCourier() {\n    var courier;\n    return _regeneratorRuntime.async(function createCourier$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(DataStore.save(new Courier({\n              name: name,\n              sub: sub,\n              transportationMode: transportationMode\n            })));\n\n          case 3:\n            courier = _context3.sent;\n            setDbCourier(courier);\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            Alert.alert(\"Error\", _context3.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return _jsxs(SafeAreaView, {\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Profile\"\n    }), _jsx(TextInput, {\n      value: name,\n      onChangeText: setName,\n      placeholder: \"Name\",\n      style: styles.input\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"row\"\n      },\n      children: [_jsx(Pressable, {\n        onPress: function onPress() {\n          return setTransportationMode(TransportationModes.BICYCLING);\n        },\n        style: {\n          backgroundColor: transportationMode === TransportationModes.BICYCLING ? \"#3FC060\" : \"white\",\n          margin: 10,\n          padding: 10,\n          borderWidth: 1,\n          borderColor: \"gray\",\n          borderRadius: 10\n        },\n        children: _jsx(MaterialIcons, {\n          name: \"pedal-bike\",\n          size: 40,\n          color: \"black\"\n        })\n      }), _jsx(Pressable, {\n        onPress: function onPress() {\n          return setTransportationMode(TransportationModes.DRIVING);\n        },\n        style: {\n          backgroundColor: transportationMode === TransportationModes.DRIVING ? \"#3FC060\" : \"white\",\n          margin: 10,\n          padding: 10,\n          borderWidth: 1,\n          borderColor: \"gray\",\n          borderRadius: 10\n        },\n        children: _jsx(FontAwesome5, {\n          name: \"car\",\n          size: 40,\n          color: \"black\"\n        })\n      })]\n    }), _jsx(Button, {\n      onPress: onSave,\n      title: \"Save\"\n    }), _jsx(Text, {\n      onPress: function onPress() {\n        return Auth.signOut();\n      },\n      style: {\n        textAlign: \"center\",\n        color: \"red\",\n        margin: 10\n      },\n      children: \"Sign out\"\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  title: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10\n  },\n  input: {\n    margin: 10,\n    backgroundColor: \"white\",\n    padding: 15,\n    borderRadius: 5\n  }\n});\nexport default Profile;","map":{"version":3,"names":["React","useState","SafeAreaView","Auth","DataStore","Courier","TransportationModes","useAuthContext","useNavigation","MaterialIcons","FontAwesome5","Profile","dbCourier","sub","setDbCourier","name","setName","DRIVING","transportationMode","setTransportationMode","navigation","onSave","updateCourier","createCourier","goBack","save","copyOf","updated","courier","Alert","alert","message","styles","title","input","flexDirection","BICYCLING","backgroundColor","margin","padding","borderWidth","borderColor","borderRadius","signOut","textAlign","color","StyleSheet","create","fontSize","fontWeight"],"sources":["C:/Users/MENO/Desktop/PROJECT/APP-DECO-COLOR/deco-color-driver/src/screens/ProfileScreen/index.js"],"sourcesContent":["import {\n  View,\n  Text,\n  TextInput,\n  StyleSheet,\n  Button,\n  Alert,\n  Pressable,\n} from \"react-native\";\nimport React, { useState } from \"react\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { Auth, DataStore } from \"aws-amplify\";\nimport { Courier, TransportationModes } from \"../../models\";\nimport { useAuthContext } from \"../../contexts/AuthContext\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { MaterialIcons, FontAwesome5 } from \"@expo/vector-icons\";\n\nconst Profile = () => {\n  const { dbCourier, sub, setDbCourier } = useAuthContext();\n\n  const [name, setName] = useState(dbCourier?.name || \"\");\n  const [transportationMode, setTransportationMode] = useState(\n    TransportationModes.DRIVING\n  );\n  const navigation = useNavigation();\n\n  const onSave = async () => {\n    if (dbCourier) {\n      // update driver position\n      await updateCourier();\n    } else {\n      // create a courier\n      await createCourier();\n    }\n    navigation.goBack();\n  };\n\n  const updateCourier = async () => {\n    const courier = await DataStore.save(\n      Courier.copyOf(dbCourier, (updated) => {\n        updated.name = name;\n        updated.transportationMode = transportationMode;\n      })\n    );\n    setDbCourier(courier);\n  };\n\n  const createCourier = async () => {\n    try {\n      const courier = await DataStore.save(\n        new Courier({\n          name,\n          sub,\n          transportationMode,\n        })\n      );\n      setDbCourier(courier);\n    } catch (e) {\n      Alert.alert(\"Error\", e.message);\n    }\n  };\n\n  return (\n    <SafeAreaView>\n      <Text style={styles.title}>Profile</Text>\n      <TextInput\n        value={name}\n        onChangeText={setName}\n        placeholder=\"Name\"\n        style={styles.input}\n      />\n\n      <View style={{ flexDirection: \"row\" }}>\n        <Pressable\n          onPress={() => setTransportationMode(TransportationModes.BICYCLING)}\n          style={{\n            backgroundColor:\n              transportationMode === TransportationModes.BICYCLING\n                ? \"#3FC060\"\n                : \"white\",\n            margin: 10,\n            padding: 10,\n            borderWidth: 1,\n            borderColor: \"gray\",\n            borderRadius: 10,\n          }}\n        >\n          <MaterialIcons name=\"pedal-bike\" size={40} color=\"black\" />\n        </Pressable>\n        <Pressable\n          onPress={() => setTransportationMode(TransportationModes.DRIVING)}\n          style={{\n            backgroundColor:\n              transportationMode === TransportationModes.DRIVING\n                ? \"#3FC060\"\n                : \"white\",\n            margin: 10,\n            padding: 10,\n            borderWidth: 1,\n            borderColor: \"gray\",\n            borderRadius: 10,\n          }}\n        >\n          <FontAwesome5 name=\"car\" size={40} color=\"black\" />\n        </Pressable>\n      </View>\n\n      <Button onPress={onSave} title=\"Save\" />\n      <Text\n        onPress={() => Auth.signOut()}\n        style={{ textAlign: \"center\", color: \"red\", margin: 10 }}\n      >\n        Sign out\n      </Text>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10,\n  },\n  input: {\n    margin: 10,\n    backgroundColor: \"white\",\n    padding: 15,\n    borderRadius: 5,\n  },\n});\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}